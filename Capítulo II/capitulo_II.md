# **Capítulo II: Requirements Elicitation & Analysis**

## **2.1. Competidores**

### ***2.1.1. Análisis competitivo***

<body>
<table class="c16">
<tr class="c1">
<td class="c13" colspan="6" rowspan="1"><p>Competitive Analysis Landscape</p></td>
</tr>
<tr class="c1">
<td class="c11" colspan="2" rowspan="1"><p>¿Por qué llevar a cabo este análisis?</p></td>
<td class="c17" colspan="4" rowspan="1"><p> Descripcion </p></td>
</tr>
<tr class="c1">
<td class="c11" colspan="2" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p>Synera</p><p><img src="images/BuildTruckLogoACL.jpg" alt="BuildTruck Logo" width="86" height="44"></p></td>
<td class="c0" colspan="1" rowspan="1"><p>empresa 1</p><p><img src="images/ProcoreLogo.png" alt="Procore Logo" width="75" height="70"></p></td>
<td class="c0" colspan="1" rowspan="1"><p>empresa 2</p><p><img src="images/BuildertrendLogo.png" alt="Buildertrend Logo" width="69" height="69"></p></td>
<td class="c0" colspan="1" rowspan="1"><p>empresa 3</p><p><img src="images/PlanGridLogo.png" alt="PlanGrid Logo" width="64" height="69"></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="2"><p>Perfil</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Overview</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de synera</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 1</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 2</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 3</p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Ventaja competitiva ¿Qué valor ofrece a los clientes?</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de synera</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 1</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 2</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Descripcicon de empresa 3</p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="2"><p>Perfil de Marketing</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Mercado objetivo</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Estrategias de marketing</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="3"><p>Perfil de Producto</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Productos & Servicios</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Precios & Costos</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Canales de distribución (Web y/o Móvil)</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="4"><p>Análisis SWOT</p></td>
<td class="c0" colspan="1" rowspan="1"><p>Fortalezas</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Debilidades</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p><p></p><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Oportunidades</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
<tr class="c1">
<td class="c0" colspan="1" rowspan="1"><p>Amenazas</p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
<td class="c0" colspan="1" rowspan="1"><p></p></td>
</tr>
</table>
</body>

#

### ***2.1.2. Estrategias y tácticas frente a competidores***


#

## **2.2. Entrevistas**

<p style="text-indent: 1.25cm;">Con el objetivo de obtener información detallada acerca de las necesidades, expectativas y frustraciones de los usuarios objetivo de Centralis, se realizaron entrevistas estructuradas dirigidas a los dos segmentos estratégicos:  empleados y gerentes o líderes de equipos.

<p style="text-indent: 1.25cm;">El diseño de las entrevistas se elaboró considerando formularios específicos para cada segmento, formulando preguntas abiertas que permitieran a los participantes expresar libremente sus experiencias, desafíos y expectativas en torno a la comunicación interna.

Cada entrevista fue registrada y documentada mediante notas detalladas, siguiendo las prácticas de obtención de requisitos y ética en investigación de usuarios. Posteriormente, los resultados se analizaron cualitativa y cuantitativamente, identificando patrones de comportamiento, puntos de dolor y oportunidades de mejora. Estos insights se consolidaron para la construcción de artefactos clave como User Personas, Empathy Maps y User Task Matrices, asegurando una base sólida para la definición de requisitos y el diseño de una plataforma centrada en las necesidades reales de sus usuarios.

La metodología aplicada garantizó la recolección de información contextualizada y accionable, fundamental para el desarrollo de Centralis como una solución intuitiva, segura y efectiva para la comunicación interna empresarial.

### ***2.2.1. Diseño de entrevistas***

<u>***- Segmento objetivo \#1: Empleados de Empresas***</u>

***Objetivo:*** Comprender sus frustraciones cotidianas con las herramientas actuales, sus hábitos de comunicación y lo que valorarían en una solución como Centralis.

***Preguntas principales:***

1. ¿Qué aplicaciones o herramientas utilizas a diario para comunicarte con tus compañeros de trabajo y superiores?

2. ¿Has tenido problemas o inconvenientes usando estas herramientas? 

3. Cuando tu jefe o la empresa publican un anuncio o avisos importante, ¿cómo te enteras?

4. ¿Cómo te organizas para saber sobre reuniones, capacitaciones o eventos de la empresa?

5. ¿Cómo te sientes acerca de usar tu WhatsApp personal para temas de trabajo? 

6. Imagina una herramienta de comunicación ideal para tu trabajo. ¿Qué características debería tener para hacerte la vida más fácil? 

***Preguntas Complementarias:***

1. ¿Podrías contarme sobre la última vez que un malentendido o un fallo de comunicación te causó un problema o retraso en tu trabajo?

2. ¿Prefieres que las conversaciones de diferentes proyectos o temas estén separadas? ¿Por qué?

3. ¿Qué tipo de notificaciones te parecen útiles y cuáles te resultan molestas o intrusivas?

4. ¿Qué dispositivo usas más para comunicarte en el trabajo: el celular o la computadora?

<u>***- Segmento objetivo \#2:  Gerentes y Líderes de Equipos***</u> 

**Objetivo:** Descubrir sus desafíos de gestión, necesidades de control y accountability, y los criterios de decisión para implementar nuevas herramientas.

***Preguntas principales:***

1. ¿Cómo se comunica oficialmente con su equipo hoy en día? ¿Qué herramientas utiliza? 

2. ¿Cuáles son los mayores desafíos o dolores de cabeza que enfrenta al gestionar la comunicación dentro de su equipo o empresa? 

3. ¿Ha tenido situaciones donde la información importante no llegó a todos? ¿Cuál fue el impacto?

4. ¿Cómo realiza el seguimiento para asegurarse de que su equipo ha visto y entendido las instrucciones o anuncios?

5. Al organizar una reunión o evento, ¿Qué herramientas usa?

6. Desde su perspectiva, ¿qué riesgos ve en el uso de aplicaciones informales como WhatsApp para la comunicación laboral?

7. ¿Qué criterios evalúa al considerar implementar una nueva herramienta tecnológica en la empresa? 

***Preguntas Complementarias:***

1. Cuando publica un anuncio importante, ¿necesita saber quiénes lo han leído y quiénes no? ¿Cómo le ayudaría esa información?

2. Imagina un panel de control donde pudiera ver el engagement de su equipo con la comunicación. ¿Qué métricas o datos serían más valiosos para usted?

3. Para la toma de decisiones, ¿le resultaría útil poder segmentar y enviar anuncios o eventos solo a departamentos o equipos específicos?

4. Desde el punto de vista de la seguridad, ¿qué tipo de controles o permisos considera indispensables en una herramienta de comunicación?

### 2.2.2. Registro de entrevistas 
### 2.2.3. Análisis de entrevistas 

<p style="text-indent: 1.25cm;">En este apartado se documenta de manera estructurada cada una de las entrevistas realizadas a los diferentes segmentos objetivo. Para cada entrevista, se incluye información relevante como el perfil del entrevistado, el registro de sus respuestas, observaciones contextuales, y un resumen de los principales hallazgos obtenidos.

<p style="text-indent: 1.25cm;">Esta sistematización permite asegurar la trazabilidad de los datos recolectados, facilitando su posterior análisis y su utilización en la construcción de artefactos de usuario, tales como User Personas, Empathy Maps y User Task Matrices.

<p style="text-indent: 1.25cm;">Características objetivas y subjetivas más comunes de cada segmento:

<u>**Segmento objetivo #1: Empleados de Empresas**</u>

**Características Objetivas Comunes:**

- Sexo: Femenino.
- Edad: 28-35 años. 
- Dispositivos: Laptop de marca Hp con sistema operativo Windows 10 y smartphone android.
- Programas: WhatAspp , Meet, Google Calendar, Procreate.
- Canales de información: WhatsApp, Google Gmail,
- Marcas preferidas: Google Gmail, WhatsApp, Google Meet

**Características Subjetivas Comunes:**

- Problemas al encontrar mensajes importantes.
- Dispersión de comunicación, uso de varias aplicaciones.
- Disgusto por combinar conversiones de vida personal y laboral.
- Interés por la centralización de la comunicación laboral
- Mayor uso de dispositivos móviles.

<u>**Segmento objetivo #2: Gerentes o líderes de equipo**</u>

**Características Objetivas Comunes:**

- Sexo: Masculino.
- Edad: 40-55 años.
- Dispositivos: Laptop de marca HP con sistema operativo Windows 10 y iPhone.
- Canales de información: Messenger , WhatsApp, Outlook.
- Marcas preferidas: Messenger , WhatsApp, Outlook.

**Características Subjetivas Comunes:**

- Problemas con las confirmaciones de lectura 
- Conflicto con la organización de archivos
- Valora la facilidad del uso de la herramienta.
- Orientación hacia la eficiencia y ahorro de tiempo.
- Preocupación por la seguridad de la empresa y el profesionalismo de los empleados. 
- Necesidad del control jerárquico. 

## 2.3. Needfinding 

<p style="text-indent: 1.25cm;">Para identificar las necesidades reales de los usuarios objetivo de Centralis, se realizaron entrevistas en profundidad a dos segmentos clave: empleados y gerentes/líderes. A través de estas entrevistas, se descubrieron patrones comunes y críticos en cada grupo, como la necesidad de centralizar la comunicación fragmentada en múltiples aplicaciones (WhatsApp, correo, calendarios), la frustración por la pérdida de información importante en entornos informales, la demanda de herramientas intuitivas y móviles que prioricen la usabilidad, y la urgencia por separar la comunicación laboral de la personal para mejorar el equilibrio vida-trabajo. 

### 2.3.1. User Personas 

<p style="text-indent: 1.25cm;">En esta sección se construyeron perfiles representativos denominados “User Personas”, los cuales sintetizan características clave de los usuarios objetivo a partir del análisis cualitativo de las entrevistas. Cada User Persona refleja patrones comunes de comportamiento, motivaciones, frustraciones, objetivos, dispositivos utilizados y canales de información. Esta herramienta permitió traducir datos individuales en arquetipos comprensibles que orientan el diseño centrado en el usuario, facilitando decisiones estratégicas en cuanto a funcionalidades, experiencia de usuario y comunicación visual.

*“Anexo: Diagrama User Persona”* : https://acortar.link/gN7rnw

Se desarrollaron dos perfiles principales:


<u>**Segmento objetivo #1: Empleados de Empresas**</u>

**Figura 8**

*User Persona Segmento Objetivo #1: Empleados de Empresas*

![User_Persona_María_Moreira](/Anexos/User_Persona/User_Persona_María_Moreira.png)


<ins>**Segmento Objetivo 2: Gerentes y Líderes de Equipos**</ins>

**Figura 9**

*User Persona Segmento Objetivo #2: Gerentes y Líderes de Equipos*

![User_Persona_Carlos_Román](/Anexos/User_Persona/User_Persona_Carlos_Román.png)

### 2.3.2. User Task Matrix 

<p style="text-indent: 1.25cm;">A continuación se presenta el User Task Matrix, construido a partir de las entrevistas realizadas a los dos segmentos definidos: Empleados de Empresas y Gerentes o Líderes de Equipos.


| N°   | Task Matrix                                       | Maria Moreira | Maria Moreira | Carlos Román | Carlos Román |
| ---- | ------------------------------------------------- | ------------- | ------------- | ------------ | ------------ |
|      |                                                   | Frecuencia    | Importancia   | Frecuencia   | Importancia  |
| 1    | Explora la landing page y conoce la aplicación    | Baja          | Media         | Media        | Media        |
| 2    | Recibe notificaciones de los eventos              | Alta          | Alta          | Alta         | Alta         |
| 3    | Crea grupos de chats                              | Media         | Media         | Media        | Alta         |
| 4    | Crea eventos para un grupo específico             | Baja          | Media         | Alta         | Alta         |
| 5    | Publica noticias o anuncios importantes           | Baja          | Media         | Alta         | Alta         |
| 6    | Crea eventos para un sector específico            | Baja          | Baja          | Media        | Alta         |
| 7    | Revisar quienes leyeron el anuncio                | Baja          | Baja          | Alta         | Alta         |
| 8    | Marca como leído un anuncio importante            | Media         | Alta          | Media        | Media        |
| 9    | Administrar permisos para crear grupos o anuncios | Baja          | Baja          | Media        | Alta         |
| 10   | Revisar métricas en el panel de control           | Baja          | Baja          | Media        | Alta         |



**Diferencias Clave entre Segmentos**

Enfoque en control vs. practicidad:

- Carlos realiza tareas de gestión y supervisión (revisar métricas, administrar permisos, publicar anuncios) con alta frecuencia e importancia.
- María se centra en tareas operativas y reactivas (recibir notificaciones, marcar anuncios como leídos) que simplifiquen su flujo de trabajo.

**Uso de analytics**:

- Carlos necesita paneles de control y métricas (ej: tasa de lectura de anuncios) para tomar decisiones.
- María no usa analytics, pero valora confirmaciones simples (ej: "visto" en anuncios) para su tranquilidad.

**Creación de contenido:**

- Carlos genera anuncios y eventos constantemente
- María principalmente los consume.

**Coincidencias Relevantes**

- Ambos comparten la necesidad de notificaciones efectivas y grupos de chat organizados.

- Tareas como crear eventos son más frecuentes para Carlos, pero ambos las consideran importantes para la coordinación.

- Marcar anuncios como leídos es relevante para ambos: para María, es una forma de confirmar recepción; para Carlos, un mecanismo de validación.

**Implicancias para el Diseño de Centralis**

Priorizar funcionalidades para gerentes:

- Paneles de control con métricas de engagement (ej: % de lectura de anuncios).
- Herramientas de segmentación para enviar mensajes a grupos específicos.

**Optimizar la experiencia para empleados:**

- Notificaciones que destaquen lo urgente.
- Flujos simples para confirmar lectura o asistencia a eventos.

Este análisis refuerza que Centralis debe equilibrar simplicidad para empleados como María con herramientas de gestión robustas para líderes como Carlos.



### 2.3.3. User Journey Mapping 

<p style="text-indent: 1.25cm;">Con el objetivo de comprender en profundidad las necesidades, comportamientos, emociones y puntos de fricción de los usuarios de Centralis, se desarrolló un User Journey Mapping utilizando metodologías centradas en el usuario. Este proceso permitió visualizar de manera estructurada y empática el recorrido que cada segmento realiza desde el descubrimiento de la herramienta hasta su adopción y uso continuo, identificando oportunidades clave para optimizar la experiencia.

**La actividad se centró en dos segmentos principales:**

- María Moreira, empleada administrativa que busca centralizar la comunicación laboral y reducir el estrés causado por la fragmentación de canales.
- Carlos Román, gerente de ventas que necesita controlar la difusión de información crítica y garantizar la accountability de su equipo.

**Para cada perfil, se diseñó un mapa que incluye:**

- Fases del proceso: Descubrimiento, Registro, Uso diario y Análisis de resultados.
- Objetivos del usuario en cada etapa.
- Acciones específicas (procesos) y canales utilizados.
- Emociones experimentadas, representadas mediante un sistema visual intuitivo: Frustración, Alivio, Satisfacción.
- Problemas identificados y oportunidades de mejora a lo largo del recorrido.

<p style="text-indent: 1.25cm;">Gracias a UXPressia, se logró una representación visual dinámica y clara que facilita la toma de decisiones centradas en el usuario. Este trabajo no solo mejora la comprensión de sus motivaciones y desafíos, sino que también guía el diseño de soluciones más relevantes, empáticas y funcionales para cada perfil identificado.

*“Anexo: Diagrama Journey Mapping”* : https://acortar.link/E1OgkX

<ins>**Segmento Objetivo 1: Empleados de Empresas**</ins>  

**Figura 10**

*User Journey Mapping Objetivo #1: Empleados de Empresas*

![Journey_Empleados](/Anexos/Journey_Mapping/Journey_Empleados.png)



*Nota.* Elaboración propia. 



<ins>**Segmento Objetivo 2: Gerentes y Líderes de Equipos**</ins>

**Figura 11**

*User Journey Mapping Objetivo #2: Gerentes y Líderes de Equipos*



![Journey_Gerentes](/Anexos/Journey_Mapping/Journey_Gerentes.png)



*Nota.* Elaboración propia. 


### 2.3.4. Empathy Mapping  

<p style="text-indent: 1.25cm;">Los siguientes mapas de empatía ilustran los conocimientos recopilados para cada uno de los dos segmentos objetivo definidos en el proyecto: 

<ins>**Segmento Objetivo 2: Gerentes y Líderes de Equipos**</ins>

**Figura 12**

*Empathy Mapping Empleados de Empresas*
![Empathy Map - Segment 1](/Anexos/Images-CapII/Mapa-empatia-S1.png)  

*Nota.* Elaboración propia.

<ins>**Segmento Objetivo 2: Gerentes y Líderes de Equipos**</ins>

 **Figura 13**

*Empathy Mapping Gerentes y Líderes de Equipos*
![Empathy Map - Segment 2](/Anexos/Images-CapII/Mapa-empatia-S2.png) 

*Nota.* Elaboración propia.


### ***2.3.5. Ubiquitous Language***

## **2.4. Requirements specification**

### ***2.4.1. User Stories.***

### ***2.4.2. Impact Mapping.***

### ***2.4.3. Product Backlog.***

### **2.5. Strategic-Level Domain-Driven Design**

### ***2.5.1. EventStorming***

####  ***2.5.1.1. Candidate Context Discovery***

#### ***2.5.1.2. Domain Message Flows Modeling***

#### ***2.5.1.3. Bounded Context Canvases***

### ***2.5.2. Context Mapping***

### ***2.5.3. Software Architecture***

#### ***2.5.3.1. Software Architecture Context Level Diagrams***

### ***2.5.3.2. Software Architecture Container Level Diagrams***

#### ***2.5.3.3. Software Architecture Deployment Diagrams***

## **2.6. Tactical-Level Domain-Driven Design**

### ***2.6.1. Bounded Context: Announcement***

### ***2.6.1.1 Domain Layer***
El **Announcement Context** gestiona la publicación, visualización y comentarios de anuncios en la organización.  

- **Entities**  
  - **Announcement**  
    - `id: UUID`  
    - `title: String`  
    - `description: String`  
    - `image: String (opcional)`  
    - `priority: Priority (Value Object)`  
    - `createdAt: DateTime`  
    - `createdBy: UserId (Gerente)`  
    - **Métodos**: `publish()`, `markAsSeen(employeeId)`, `addComment(comment)`  

  - **Comment**  
    - `id: UUID`  
    - `announcementId: UUID`  
    - `employeeId: UserId`  
    - `content: String`  
    - `createdAt: DateTime`  

  - **User (simplificado)**  
    - `id: UUID`  
    - `name: String`  
    - `role: ENUM (Manager, Employee)`  

- **Value Objects**  
  - **Priority**  
    - `level: ENUM (Normal, High, Urgent)`  
    - Inmutable, solo puede asignarse al crear el anuncio.  

- **Aggregates**  
  - `Announcement` es el Aggregate Root.  
  - Contiene `Comments` y gestiona la lógica de negocio.  

- **Business Rules**  
  1. Solo los **Managers** pueden publicar anuncios.  
  2. Los **Employees** pueden visualizar anuncios y marcarlos como vistos.  
  3. Los **Employees** pueden comentar un anuncio publicado.  
  4. Un anuncio puede clasificarse por **Priority**.  

- **Repositories (Interfaces)**  
  - `IAnnouncementRepository`  
  - `ICommentRepository`  

---

#### ***2.6.1.2. Interface Layer***

#### ***2.6.1.3. Application Layer***

#### ***2.6.1.4. Infrastructure Layer***

#### ***2.6.1.5. Bounded Context Software Architecture Component Level Diagrams***

#### ***2.6.1.6. Bounded Context Software Architecture Code Level Diagrams***

##### ***2.6.1.6.1. Bounded Context Domain Layer Class Diagrams***

##### ***2.6.1.6.2. Bounded Context Database Design Diagram***

### ***2.6.2. Bounded Context: Event***

Este contexto se especializa en la organización y coordinación de actividades empresariales. Captura la lógica para la creación, modificación, cancelación de eventos, así como la gestión de invitaciones y confirmaciones de asistencia. Su propósito es servir como una fuente confiable para la planificación de actividades.

#### ***2.6.2.1. Domain Layer***

En este bounded context, el núcleo del dominio está relacionado con la creación, gestión y visualización de eventos.

**Clases principales (Entities and Value Objects):**

**Event (Aggregate Root):**

Representa un evento creado por un gerente. Es la entidad central del bounded context de **Event**, y actúa como “la puerta de entrada” al agregado completo.

* ***Atributos:***

  - **id (UUID):** Identificador único del evento.


  - **title (String):** Título breve y descriptivo del evento (ejemplo: “Reunión de Ventas Mensual”).


  - **description (String):** Explicación detallada del evento (objetivos, agenda, instrucciones).


  - **date (DateTime):** Fecha y hora en que se llevará a cabo el evento.


  - **location (String, opcional):** Lugar físico o enlace virtual (Zoom, Google Meet).


  - **createdBy (UserId):** Identificador del gerente que creó el evento. (No guardamos al usuario aquí, porque eso lo resuelve IAM).


  - **recipients (lista de UserId):** Conjunto de empleados que deben recibir el evento.


* ***Métodos:***

  - **createEvent():** Crea un nuevo evento, asegurando que cumple con las reglas de negocio (ejemplo: que tenga título, descripción y fecha válidos).


  - **updateEvent():** Permite modificar la información del evento (ejemplo: cambiar fecha, ubicación o destinatarios).


  - **deleteEvent():** Elimina el evento si ya no es necesario o fue cancelado.


* ***Reglas de negocio:***

  - Solo los gerentes (rol definido en IAM) pueden crear, actualizar o eliminar un evento.


  - Los empleados solo pueden visualizar los eventos asignados a ellos.


  - Todo evento debe tener obligatoriamente un título, descripción y fecha válidos.


  - Al crearse un evento, se genera automáticamente un evento de dominio (ejemplo: EventCreated) que luego será consumido por otros bounded contexts (como el de Notificaciones).


#### ***2.6.2.2. Interface Layer***

**EventController**

Es el responsable de recibir solicitudes HTTP y dirigirlas hacia la lógica de aplicación (Application Layer). Cada endpoint está protegido por el IAM para garantizar que solo los usuarios con los permisos adecuados (ejemplo: gerentes) puedan ejecutar ciertas operaciones.

* ***Endpoints principales:***

  - **POST /events** → Crear evento (solo gerentes). 
  
    - Permite registrar un nuevo evento en el sistema.

    - Valida que el usuario tenga rol de gerente y que se incluyan datos obligatorios (título, descripción, fecha).

  - **GET /events** → Listar eventos (vista en lista).

    - Devuelve todos los eventos disponibles para el usuario autenticado.

    - Los gerentes pueden ver los eventos que crearon; los empleados solo los eventos en los que fueron incluidos como destinatarios.

  - **GET /events/calendar** → Visualizar eventos en calendario.

    - Devuelve los eventos en un formato especial para ser mostrados en vista de calendario.

    - Permite a los empleados y gerentes elegir entre lista o calendario.

  - **PUT /events/{id}** → Actualizar evento (solo gerentes).

    - Permite modificar un evento existente (cambiar fecha, lugar o destinatarios).

    - Requiere que el evento haya sido creado por el mismo gerente que lo intenta editar.

  - **DELETE /events/{id}** → Eliminar evento (solo gerentes).

    - Permite cancelar un evento.

    - Asegura que el usuario sea el gerente creador del evento antes de borrarlo.


#### ***2.6.2.3. Application Layer***

La capa de aplicación es la encargada de coordinar los procesos del negocio y garantizar que la lógica definida en el Domain Layer se ejecute correctamente. Aquí no se define la lógica de negocio directamente, sino que se orquesta el flujo de acciones a través de **Command Handlers y Event Handlers.**

**Command Handlers**

Son clases que reciben las solicitudes de la **Interface Layer** (controladores) y se encargan de invocar al **Domain Layer** para ejecutar las reglas de negocio.


* ***CreateEventCommandHandler***


  - Recibe la petición de creación de un evento desde el EventController.


  - Valida los datos obligatorios (título, descripción, fecha).


  - Delegan al agregado Event la creación del evento.


* ***UpdateEventCommandHandler***


  - Permite modificar datos de un evento ya existente (ejemplo: fecha, ubicación, destinatarios).


  - Garantiza que solo el gerente creador del evento pueda actualizarlo.


* ***DeleteEventCommandHandler***


  - Se encarga de eliminar un evento.


  - Valida que la acción sea realizada por el gerente correspondiente.


**Event Handlers**

Son clases que se activan automáticamente cuando ocurre un evento de dominio en el sistema. Se encargan de coordinar acciones posteriores, como notificar a otros bounded contexts.

* ***EventCreatedHandler***


  - Se ejecuta cuando se crea un evento.


  - Lanza una señal que el **Bounded Context de Notificaciones** escucha, para enviar notificaciones automáticas a los destinatarios del evento.


#### ***2.6.2.4. Infrastructure Layer***

En esta capa se implementan las conexiones con servicios externos y la persistencia de datos. Su objetivo es garantizar que los eventos creados, modificados o eliminados se guarden correctamente y puedan ser consultados en cualquier momento por los usuarios autorizados.

**Repositories:**

* ***EventRepository:***

Implementa las operaciones básicas (crear, leer, actualizar y eliminar) para la entidad Event en la base de datos. Este repositorio actúa como un intermediario entre la capa de dominio y la base de datos, asegurando que la lógica de negocio no dependa directamente de la infraestructura.

* ***Database Access:***

La base de datos utilizada será Supabase, que proporciona una plataforma gestionada en la nube para almacenamiento de datos. Supabase ofrece soporte para bases relacionales (PostgreSQL) y facilita la autenticación y la gestión de permisos, alineándose con el uso de IAM para los usuarios.

De esta manera, la infraestructura asegura que los eventos no solo se guarden de manera confiable en Supabase, sino que también se comuniquen de forma eficiente a todos los empleados involucrados.


#### ***2.6.5.5. Bounded Context Software Architecture Component Level Diagrams***

**Figura 17**

*Component Level Diagrams del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975912/diagram_event_componnet_mz0jar.png" alt="Diagrama Event Component">
</p>

*Nota.* Elaboración propia.

#### ***2.6.5.6. Bounded Context Software Architecture Code Level Diagrams***

##### ***2.6.5.6.1. Bounded Context Domain Layer Class Diagrams***

**Figura 18**

*Domain Layer Class Diagrams del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975890/class_diagramEvent_g7l9pf.png" alt="Class Diagram">
</p>

*Nota.* Elaboración propia.

##### ***2.6.5.6.2. Bounded Context Database Design Diagram***

**Figura 19**

*Database Design Diagram del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975937/database_diagram_event_hqtyze.png" alt="Database diagram">
</p>

*Nota.* Elaboración propia.

### ***2.6.3. Bounded Context: Chat***

#### ***2.6.3.1. Domain Layer***

#### ***2.6.3.2. Interface Layer***

#### ***2.6.3.3. Application Layer***

#### ***2.6.3.4. Infrastructure Layer***

#### ***2.6.3.5. Bounded Context Software Architecture Component Level Diagrams***

##### ***2.6.3.6. Bounded Context Software Architecture Code Level Diagrams***

##### ***2.6.3.6.1. Bounded Context Domain Layer Class Diagrams***

##### ***2.6.3.6.2. Bounded Context Database Design Diagram***

### ***2.6.4. Bounded Context: Notification***

#### ***2.6.4.1. Domain Layer***

#### ***2.6.4.2. Interface Layer***

#### ***2.6.4.3. Application Layer***

#### ***2.6.4.4. Infrastructure Layer***

#### ***2.6.4.5. Bounded Context Software Architecture Component Level Diagrams***

#### ***2.6.4.6. Bounded Context Software Architecture Code Level Diagrams***

#### ***2.6.4.6.1. Bounded Context Domain Layer Class Diagrams***

##### ***2.6.4.6.2. Bounded Context Database Design Diagram***

### ***2.6.5. Bounded Context: Profiles***

Este bounded context es responsable de gestionar la información básica de los perfiles de usuario y de servir como una fuente confiable de datos de perfil para otros contextos. Se relaciona con el **IAM Context (Identity and Access Management)**, el cual maneja la autenticación, autorización y credenciales.

#### ***2.6.5.1. Domain Layer***

**Clases principales (Entities and Value Objects):**

**Profile (Aggregate Root):** 

Representa el perfil de un usuario en la plataforma. Es la entidad central del bounded context de Profiles, y actúa como “la puerta de entrada” al agregado completo.
* ***Atributos:***

  - **id (UUID):** Identificador único del perfil.

  - **userId (UserId):** Identificador del usuario asociado al perfil (proveniente del IAM Context).

  - **firstName (String):** Nombre del usuario.

  - **lastName (String):** Apellido del usuario.

  - **avatarUrl (String, opcional):** URL de la imagen de perfil **almacenada en Cloudinary.

  - **position (Position):** Cargo del usuario en la empresa (ejemplo: “Empleado”, “Gerente”). Es un Value Object.

  - **department (Department):** Departamento al que pertenece el usuario (ejemplo: “TI”, “Ventas”). Es un Value Object.


* ***Métodos:***


  - **createProfile():** Crea un nuevo perfil, asegurando que cumple con las reglas de negocio (ejemplo: que tenga userId, firstName y lastName válidos).


  - **updateProfile():** Permite modificar la información del perfil (ejemplo: cambiar firstName, lastName, position, department).


  - **changeAvatar():** Cambia la imagen de perfil, actualizando el avatarUrl.


* ***Reglas de negocio:***

  - Un perfil solo puede ser creado para un userId existente en el IAM Context.

  - Solo el usuario dueño del perfil puede actualizar su información.

  - El department debe ser uno de los valores válidos definidos por la organización (ej: "TI", "Ventas", "RH"). Al ser un Value Object, se valida contra una lista predefinida.

  - El position debe ser uno de los valores válidos definidos por la organización (ej: "Empleado", "Gerente"). Al ser un Value Object, se valida contra una lista predefinida.

  - Al crearse un perfil, se genera automáticamente un evento de dominio (ejemplo: ProfileCreated) que luego será consumido por otros bounded contexts.


#### ***2.6.5.2. Interface Layer***

**ProfileController**

Es el responsable de recibir solicitudes HTTP y dirigirlas hacia la lógica de aplicación (Application Layer). Cada endpoint está protegido por el IAM para garantizar que solo los usuarios autenticados puedan ejecutar operaciones.

* ***Endpoints principales:***


  - **GET /profiles** → Obtener todos los perfiles registrados.

    - Devuelve el perfil completo de los usuarios registrados.


  - **GET /profiles/{userId}** → Obtener perfil de un usuario.

    - Devuelve información del perfil (nombre, cargo, departamento) para un userId dado.


  - **PUT /profiles/{userId}**  → Actualizar un perfil.

    - Permite modificar la información del perfil del usuario autenticado (firstName, lastName, position, department).

    - Valida que el department sea uno de los valores permitidos.


#### ***2.6.5.3. Application Layer***

La capa de aplicación es la encargada de coordinar los procesos del negocio y garantizar que la lógica definida en el Domain Layer se ejecute correctamente.

**Command Handlers**

Son clases que reciben las solicitudes de la Interface Layer (controladores) y se encargan de invocar al Domain Layer para ejecutar las reglas de negocio.

* ***CreateProfileCommandHandler***

  - Recibe la petición de creación de un perfil (generalmente triggered por un evento de usuario registrado desde el IAM Context).

  - Valida la existencia del userId contra el IAM Context.

  - Delega al agregado Profile la creación del perfil.

* ***UpdateProfileCommandHandler***

  - Recibe la petición de actualización de un perfil desde el ProfileController.

  - Valida que el usuario autenticado sea el dueño del perfil.

  - Delega al agregado Profile la actualización de la información.

**Event Handlers**

Son clases que se activan automáticamente cuando ocurre un evento de dominio en el sistema.

* ***UserRegisteredEventHandler*** (Se suscribe al IAM Context)

  - Se ejecuta cuando se publica el evento UserRegistered desde el IAM Context.

  - Ejecuta el CreateProfileCommand para crear un perfil básico para el nuevo usuario.


#### ***2.6.5.4. Infrastructure Layer***

En esta capa se implementan las conexiones con servicios externos y la persistencia de datos.

**Repositories:**

* ***ProfileRepository:***

Implementa las operaciones básicas (crear, leer, actualizar y eliminar) para la entidad Profile en la base de datos. Este repositorio actúa como un intermediario entre la capa de dominio y la base de datos.

* ***Database Access:***

La base de datos utilizada será Supabase, que proporciona una plataforma gestionada en la nube para almacenamiento de datos.

* ***External Services:***

**IAMServiceClient** es cliente HTTP que consume el API del IAM Context para validar la existencia de un userId (usado durante la creación del perfil).

- **Relación con IAM Context:**

El Profile Context actúa como Downstream y sigue un patrón Conformist con respecto al IAM Context.
Utiliza el userId proporcionado por IAM como identificador único y foreign key. No implementa una Anti-Corruption Layer (ACL) porque la información de IAM es estable y esencial (core identity). Confía en que el IAM Context provea datos consistentes. Se suscribe al evento UserRegistered publicado por el IAM Context para iniciar la creación de un perfil. De esta manera, la infraestructura asegura que los perfiles se guarden de manera confiable en Supabase y que se mantenga la consistencia con el IAM Context.


#### ***2.6.5.5. Bounded Context Software Architecture Component Level Diagrams***

**Figura 26**

*Component Level Diagrams del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975751/ComponentDiagramsProfile_tj7koe.png" alt="Diagrama Event Component" >
</p>

*Nota.* Elaboración propia.

#### ***2.6.5.6. Bounded Context Software Architecture Code Level Diagrams***

##### ***2.6.5.6.1. Bounded Context Domain Layer Class Diagrams***

**Figura 27**

*Domain Layer Class Diagrams del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975751/ClassDiagramProfile_bycj8i.png" alt="Class Diagram">
</p>

*Nota.* Elaboración propia.

##### ***2.6.5.6.2. Bounded Context Database Design Diagram***

**Figura 28**

*Database Design Diagram del Bounded Context Event de Synera*

<p align="center">
  <img src="https://res.cloudinary.com/df8xwy4xb/image/upload/v1757975751/DatabaseDiagramProfile_faxjvj.png" alt="Database Diagram">
</p>

*Nota.* Elaboración propia.

